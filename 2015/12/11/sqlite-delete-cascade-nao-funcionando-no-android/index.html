<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>SQLite DELETE CASCADE não funcionando no Android | Artenes Nogueira</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="O DELETE CASCADE nas minhas tabelas no SQLite não estavam rodando porque esqueci de avisar pro SQLite para ele prestar atenção nas chaves estrangeiras. Você deve dizer pro SQLite que ele deve levar em">
<meta property="og:type" content="article">
<meta property="og:title" content="SQLite DELETE CASCADE não funcionando no Android">
<meta property="og:url" content="http://artenes.github.io/2015/12/11/sqlite-delete-cascade-nao-funcionando-no-android/index.html">
<meta property="og:site_name" content="Artenes Nogueira">
<meta property="og:description" content="O DELETE CASCADE nas minhas tabelas no SQLite não estavam rodando porque esqueci de avisar pro SQLite para ele prestar atenção nas chaves estrangeiras. Você deve dizer pro SQLite que ele deve levar em">
<meta property="og:image" content="http://artenes.github.io/chave.png">
<meta property="og:updated_time" content="2015-12-11T17:33:22.031Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SQLite DELETE CASCADE não funcionando no Android">
<meta name="twitter:description" content="O DELETE CASCADE nas minhas tabelas no SQLite não estavam rodando porque esqueci de avisar pro SQLite para ele prestar atenção nas chaves estrangeiras. Você deve dizer pro SQLite que ele deve levar em">
  
  
    <link rel="icon" href="favicon.ico">
  

  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  
  
    <link rel="stylesheet" href="/scrollLoading/style.css" type="text/css">
  
  


  

  
    <link href='//fonts.googleapis.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
</head>

<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">web and mobile developer</p>
            </h2>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/">Home</a></li>
              
                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/solucao/">solução</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/solucao/linux/">linux</a></li></ul></li></ul>
                  
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/about/index.html">Sobre</a></li>
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/contact/index.html">Contato</a></li>
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Busca"><input type="hidden" name="sitesearch" value="http://artenes.github.io"></form>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header">sem categoria</h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-sqlite-delete-cascade-nao-funcionando-no-android" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      SQLite DELETE CASCADE não funcionando no Android
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2015/12/11/sqlite-delete-cascade-nao-funcionando-no-android/" class="article-date">
  <time datetime="2015-12-11T17:17:46.000Z" itemprop="datePublished">11-12-2015</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <p><img src="chave.png" alt="Uma chave (que pode ser estrangeira)"></p>
<p>O DELETE CASCADE nas minhas tabelas no SQLite não estavam rodando porque esqueci de avisar pro SQLite para ele prestar atenção nas chaves estrangeiras. Você deve dizer pro SQLite que ele deve levar em conta as chaves estrangeiras ao realizar qualquer operação através do comando:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">PRAGMA</span> foreign_keys = <span class="keyword">ON</span>;</span></span><br></pre></td></tr></table></figure>
<p>Em Android, isso pode ser resolvido sobrescrevendo o método <code>onOpen()</code> da classe <code>SQLiteOpenHelper</code>, que é a classe comumente usada para abrir e fechar conexões com o banco. Então nesse método <code>onOpen()</code> você executa este método:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.execSQL("<span class="operator"><span class="keyword">PRAGMA</span> foreign_keys = <span class="keyword">ON</span>;</span>");</span><br></pre></td></tr></table></figure>
<p>E pronto! Toda vez que você abrir uma conexão, as chaves estrangeiras serão ativas e o SQLite executará os DELETE CASCADE ou qualquer outro CASCADE que tiver em sua tabela.</p>
<p>Esta discussão contem uma explicação melhor sobre tudo isso: <a href="http://stackoverflow.com/questions/13641250/sqlite-delete-cascade-not-working" target="_blank" rel="external">http://stackoverflow.com/questions/13641250/sqlite-delete-cascade-not-working</a></p>

      </div>
      <footer class="article-footer">
        <a data-url="http://artenes.github.io/2015/12/11/sqlite-delete-cascade-nao-funcionando-no-android/" data-id="cim567c610017hkqo6tswjnvk" class="article-share-link"><i class="fa fa-share"></i>Compartilhar</a>
        
        
      </footer>
    </div>
  </article>
  
  

            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>seguir:</p>
    <ul class="social-links">
      
        <li><a class="social-tooltip" title="facebook" href="https://www.facebook.com/artenesnogueira" target="_blank"><i class="icon fa fa-facebook"></i></a></li>
      
        <li><a class="social-tooltip" title="github" href="https://github.com/Artenes" target="_blank"><i class="icon fa fa-github"></i></a></li>
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/27/script-para-pop-under/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">novos</strong>
      <p class="article-nav-title">
        
          Script para Popunder
        
      </p>
      <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2015/12/03/tamanho-de-imagens-para-redes-sociais/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">antigos</strong>
      <p class="article-nav-title">Tamanho de imagens para Redes Socias</p>
      <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
      
  <div class="widget-wrap">
    <h3 class="widget-title">recentes</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2016/03/23/instalar-sysbench-em-um-servidor-compartilhado-linux/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/solucao/">solução</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/solucao/linux/">linux</a></p>
              <p class="item-title"><a href="/2016/03/23/instalar-sysbench-em-um-servidor-compartilhado-linux/" class="title">Como instalar Sysbench em um servidor compartilhado linux da Locaweb</a></p>
              <p class="item-date"><time datetime="2016-03-23T18:14:15.000Z" itemprop="datePublished">23-03-2016</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/12/27/script-para-pop-under/" class="thumbnail">
  
    <span style="background-image:url(/2015/12/27/script-para-pop-under/blackhat.jpg
)" alt="Script para Popunder" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/12/27/script-para-pop-under/" class="title">Script para Popunder</a></p>
              <p class="item-date"><time datetime="2015-12-28T01:53:57.000Z" itemprop="datePublished">27-12-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/12/11/sqlite-delete-cascade-nao-funcionando-no-android/" class="thumbnail">
  
    <span style="background-image:url(/2015/12/11/sqlite-delete-cascade-nao-funcionando-no-android/chave.png
)" alt="SQLite DELETE CASCADE não funcionando no Android" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/12/11/sqlite-delete-cascade-nao-funcionando-no-android/" class="title">SQLite DELETE CASCADE não funcionando no Android</a></p>
              <p class="item-date"><time datetime="2015-12-11T17:17:46.000Z" itemprop="datePublished">11-12-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/12/03/tamanho-de-imagens-para-redes-sociais/" class="thumbnail">
  
    <span style="background-image:url(/2015/12/03/tamanho-de-imagens-para-redes-sociais/social-media-cover-photo-dimensions.png
)" alt="Tamanho de imagens para Redes Socias" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/12/03/tamanho-de-imagens-para-redes-sociais/" class="title">Tamanho de imagens para Redes Socias</a></p>
              <p class="item-date"><time datetime="2015-12-03T19:35:23.000Z" itemprop="datePublished">03-12-2015</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/12/03/como-usar-zxing-para-android/" class="thumbnail">
  
    <span style="background-image:url(/2015/12/03/como-usar-zxing-para-android/oAbMU.png
)" alt="Como usar ZXing para Android" class="thumbnail-image"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/12/03/como-usar-zxing-para-android/" class="title">Como usar ZXing para Android</a></p>
              <p class="item-date"><time datetime="2015-12-03T19:34:57.000Z" itemprop="datePublished">03-12-2015</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">categorias</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/solucao/">solução</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/solucao/linux/">linux</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">arquivos</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">Março 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">Dezembro 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">Novembro 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">Outubro 2015</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/benchmark/">benchmark</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sysbench/">sysbench</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-float">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/benchmark/" style="font-size: 10px;">benchmark</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/sysbench/" style="font-size: 10px;">sysbench</a>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>


    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2016 Artenes Nogueira</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
      </div>
    </div>
  </div>
</footer>
    


  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



  <script src="/scrollLoading/jquery.scrollLoading.js" type="text/javascript"></script>
  <script src="/scrollLoading/main.js" type="text/javascript"></script>


<script src="/js/html-patch.js" type="text/javascript"></script>
<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>
